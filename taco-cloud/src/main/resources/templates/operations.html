<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Волонтёры33</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800&display=swap"
          rel="stylesheet" />
    <link rel="stylesheet" th:href="@{/css/reset.css}" />
    <link rel="stylesheet" th:href="@{/css/swiper-bundle.min.css}" />
    <link rel="stylesheet" th:href="@{/css/bootstrap-grid.css}" />
    <link rel="stylesheet" th:href="@{/css/bootstrap.rtl.min.css}" />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
    <nav class="navbar-menu">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-4">
                    <a class="logo" href="/">Волонтёры33</a>
                </div>
                <div class="col-4">
                    <ul class="navbar-list">
                        <li class="navbar-list__item"><a href="/">Главная</a></li>
                        <li class="navbar-list__item"><a href="/">Новости</a></li>
                        <li class="navbar-list__item"><a href="/">О нас</a></li>
                    </ul>
                </div>
                <div class="col-4">               
                   <div class="navbar__buttons" sec:authorize="isAnonymous()">
                       <a class="button navbar__button" th:href="@{/register}" >Регистрация</a>
                       <a class="button navbar__button" th:href="@{/login}" >Войти</a>
                   </div>

                   <div class="navbar__buttons" sec:authorize="isAuthenticated()">
                       <a class="button navbar__button" th:href="@{/profile}">Профиль</a>
                       <form class="button-form navbar__button" method="post" th:action="@{/logout}">
                         <input class="button button-exit" type="submit" value="Выход">
                       </form>
                   </div>
                </div>
            </div>
        </div>
    </nav>

    <div class ="container">
      <main role="main">
      <h1 class="display-4">Операции</h1><br />
          <div class="container">
              <div class="operations-group">        
                  <div class="operations-group__row">
                      <span class="operations-group__label"
                            onclick="view('hd-1'); return false">Готовящиеся операции</span>
                      <div id="hd-1" class="operations-group__list">
                          <table class="table">
                              <tr><th>Имя</th><th>Статус</th><th></th></tr>
                                  <tr th:each="op : ${waitOperations}">
                                      <td th:text="${op.getSearchRequest.getFullName}"></td>
                                      <td th:text="${op.getStatus}"></td>
                                      <td>
                                          <a class="btn btn-sm btn-outline-primary" th:href="@{/adminPanel/operations/{id}/start(id=${op.getId})}">Начать</a>
                                          <a class="btn btn-sm btn-outline-secondary" th:href="@{/operations/{id}(id=${op.getId})}">Просмотреть</a>
                                      </td>
                                  </tr >
                          </table>
                      </div>
                  </div>
          
                  <div class="operations-group__row">
                      <span class="operations-group__label"
                            onclick="view('hd-2'); return false">Активные операции</span>
                      <div id="hd-2" class="operations-group__list">
                          <table class="table">
                              <tr><th>Имя</th><th>Статус</th><th></th></tr>
                              <tr th:each="op : ${activeOperations}">
                                <td th:text="${op.getSearchRequest.getFullName}"></td>
                                <td th:text="${op.getStatus}"></td>
                                <td>
                                    <a class="btn btn-sm btn-outline-primary" th:href="@{/adminPanel/operations/{id}/stop(id=${op.getId})}">Завершить</a>
                                    <a class="btn btn-sm btn-outline-secondary" th:href="@{/operations/{id}(id=${op.getId})}">Просмотреть</a>
                                </td>
                              </tr >
                          </table>
                      </div>
                  </div>
          
                  <div class="operations-group__row">
                      <span class="operations-group__label"
                            onclick="view('hd-3'); return false">Завершённые операции</span>
                      <div id="hd-3" class="operations-group__list">
                          <table class="table">
                              <tr><th>Имя</th><th>Статус</th><th></th></tr>
                                  <tr th:each="op : ${completeOperations}">
                                    <td th:text="${op.getSearchRequest.getFullName}"></td>
                                    <td th:text="${op.getStatus}"></td>
                                    <td>
                                      <a class="btn btn-sm btn-outline-secondary" th:href="@{/operations/{id}(id=${op.getId})}">Просмотреть</a>
                                    </td>
                                  </tr >
                          </table>
                      </div>
                  </div>
          
              </div>
          </div>
        
        <br />
        <a class="main-link" th:href="@{/adminPanel}">Назад</a>
      </main>
    </div> 


    <script>
        function view(n) {
            style = document.getElementById(n).style;
            style.display = style.display == "block" ? "none" : "block";
        }
    </script>
    <script src="@{/js/swiper-bundle.min.js}"></script>
    <script src="@{/js/main.js}"></script>
    <script src="@{/lib/jquery/dist/jquery.min.js}"></script>
    <script src="@{/lib/bootstrap/dist/js/bootstrap.bundle.min.js}"></script>
    <script src="@{/js/site.js}" asp-append-version="true"></script>
</body>
</html>